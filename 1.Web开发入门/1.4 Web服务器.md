## 1.4 Web服务器

> 原文可查看[What is a web server?](https://developer.mozilla.org/en-US/docs/Learn/Common_questions/What_is_a_web_server)

### Web服务器简介

Web服务器从硬件方面来讲，是一台存储Web服务软件和网站组件文件(如HTML文档，图片，CSS和JavaScript文件)的计算机，与互联网连接并支持与其他连接到网络的设备交换数据；从软件方面来讲，Web服务器包含一些控制用户访问托管文件的部分，至少包括*HTTP服务器*。HTTP服务器用于理解URL和HTTP协议。

在最基础的层次上，只要浏览器想要查看托管在Web服务器上的文件，就需要使用HTTP请求。当请求到达Web服务器时，HTTP服务器会接受该请求，查找对应的文件并使用HTTP将文件返回浏览器(未查找到相应文件时返回404)。

![Basic representation of a client/server connection through HTTP](https://mdn.mozillademos.org/files/8659/web-server.svg)

### HTTP协议

浏览器和Web服务器之间一般都通过HTTP协议进行交流。HTTP协议是一种文本化，无状态的协议，规定了客户端与服务器之间的通信规则。

- HTTP请求只能由客户端发起，服务器只能接受并详情客户端的HTTP请求。
- 通过HTTP请求一个文件时，客户端必须提供文件URL。
- 服务器必须响应每个HTTP请求，即使有错误也必须回复一条错误信息。

在服务器端，HTTP服务器主要负责处理和响应接收到的HTTP请求：

1. 接收到请求，HTTP服务器首先检查请求URL是否与现有存在的文件匹配。
2. 如果匹配，Web服务器直接将文件内容返回浏览器；否则，应用服务器会建立必要的文件。
3. 如果两种处理方式都不可行，Web服务器向浏览器返回404错误信息。

### 静态和动态网站

Web服务器上托管的网站内容可分为**静态网站**和**动态网站**。根据不同的网站内容，Web服务器上也会搭建不同的软件服务，通常静态网站只需要*HTTP服务器*，在服务器查找到浏览器请求的文件后，会通过HTTP服务器原样返回给浏览器；动态网站除了静态网站必须的软件外，还需要其他的额外软件，通常是*应用服务器*和*数据库*，在服务器查找到浏览器请求的文件后，需要先经过应用服务器更新甚至根据数据库重新生成文件内容，然后再通过HTTP服务器返回给浏览器。

